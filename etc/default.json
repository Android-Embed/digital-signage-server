{
    "reloader": true,
    "debug": true,
    "environment": "dev",
    "storage": {
        "db": {
            "engine": "sqlite3",
            "filename": "%(APPLICATION_ROOT)s/var/data/store.db"
        },
        "images": "%(APPLICATION_ROOT)s/var/data/shots"
    },
    "http": {
        "bind_address": "0.0.0.0",
        "port": 8000
    },
    "redis": {
        "server" : {
            "host"   : "localhost",
            "port"   : 6379            
        },
        "#"      : "Dynamic configuration data we'll preload",
        "preload": {
            "config:max_data_points": 10000
        }
    },
    "celery": {
        "broker_url"    : "redis://localhost:6379/0",
        "result_backend": "redis://localhost:6379/0",
        "rate_limit"    : "100"
    },
    "phantom": {
        "path": "/opt/phantomjs/bin/phantomjs",
        "sizes": ["1280x720"],
        "timeout": 15000
    },
    "vlc": {
        "cli": "/usr/bin/cvlc screen:// :screen-fps=12 :screen-caching=100 --start-time %(start)d --stop-time %(stop)d --sout \"#transcode{vcodec=h264,venc=x264{keyint=24,idrint=12,profile=veryslow,tune=zerolatency,bframes=3,ref=9,scenecut=80},fps=12,scale=1,vb=320}:std{access=file,mux=mp4,dst=%(filename)s}\""
    },
    "uzbl": {
        "cli": "/usr/bin/uzbl-core %(url)s"
    },
    "xvfb": {
        "cli": "/usr/bin/Xvfb :%(display)d -screen 0 %(width)dx%(height)dx24 +extension Composite -nocursor -dpi 96 -fp /usr/share/fonts/X11/misc/,/usr/share/fonts/X11/Type1/,/usr/share/fonts/X11/75dpi/,/usr/share/fonts/X11/100dpi/",
    },
    "imagemagick": {
        "convert": "/usr/bin/convert",
        "args"   : "%s %s -quality 100 -strip -interlace Plane -bordercolor white -border 0x0 %s"
    },
    "logging": {
        "version": 1,
        "formatters": {
            "http": {
                "format" : "localhost - - [%(asctime)s] %(process)d %(levelname)s %(message)s",
                "datefmt": "%Y/%m/%d %H:%M:%S"
            }
        },
        "handlers": {
            "console": {
                "class"    : "logging.StreamHandler",
                "formatter": "http",
                "level"    : "DEBUG",
                "stream"   : "ext://sys.stdout"
            },
            "pygments-http" : {
                "class"    : "utils.logkit.PygmentsHandler",
                "formatter": "http",
                "level"    : "DEBUG",
                "stream"   : "ext://sys.stderr",
                "syntax"   : "guess"
            }
        },
        "loggers": {
            "peewee": {
                "level"    : "WARN",
                "handlers" : ["pygments-http"],
                "propagate": false
            }
        },
        "root": {
            "level"   : "DEBUG",
            "handlers": ["pygments-http"]
        }
    }
}
